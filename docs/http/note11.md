# HTTPS 中间人攻击过程

中间人攻击过程：

1. 服务器向客户端发送公钥。
2. 攻击者截获公钥，然后生成一个`伪造`的公钥发送给客户端。
3. 客户端收到伪造的公钥后，生成密钥，发给服务器。
4. 攻击者获取密钥，用自己的私钥解密获得真密钥。同时生成假的密钥，发给服务器。
5. 服务器用私钥解密获得假密钥，用假密钥加密传输信息。

防范方法：

服务器在发送浏览器的公钥中加入`CA 证书`，浏览器可以验证 CA 证书的有效性（现有 HTTPS 很难被劫持，除非信任了劫持者的 CA 证书）。
